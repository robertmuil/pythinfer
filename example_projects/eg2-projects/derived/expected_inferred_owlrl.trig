@prefix dcat: <http://www.w3.org/ns/dcat#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix eg: <http://www.example.org/> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix ptp: <http://www.example.org/pythinfer/project/> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

<inferences_sparql> {
    # This is the most important SPARQL-based inference: the relationship between projA and projB
    eg:relationship-projA-projB a ptp:ProjectRelationship ;
        ptp:hasParticipant eg:projA,
            eg:projB ;
        ptp:relationshipWeight 5.0 .

    # The following are auxiliary triples created to support the main inference above
    _:b9 dcterms:isVersionOf foaf: ;
        owl:sameAs _:b10 .

    _:b1 ptp:inputPattern "data/*.ttl" ;
        owl:sameAs _:b4 .

    _:b2 dcterms:isVersionOf <http://www.w3.org/2004/02/skos/core> ;
        owl:sameAs _:b5 .

    _:b4 ptp:inputPattern "data/*.ttl" ;
        owl:sameAs _:b1 .

    _:b5 dcterms:isVersionOf <http://www.w3.org/2004/02/skos/core> ;
        owl:sameAs _:b2 .

    _:b10 dcterms:isVersionOf foaf: ;
        owl:sameAs _:b9 .

    _:b0 dcterms:isVersionOf prov: ;
        owl:sameAs _:b3,
            _:b6 .

    _:b3 dcterms:isVersionOf prov: ;
        owl:sameAs _:b0,
            _:b6 .

    _:b6 dcterms:isVersionOf prov: ;
        owl:sameAs _:b0,
            _:b3 .
}


<inferences_owl> {
    eg:projA a dcat:Catalog,
            prov:Activity ;
        ptp:hasDataSource _:b0,
            _:b1,
            _:b2,
            _:b3,
            _:b4,
            _:b5,
            _:b6 ;
        ptp:hasExternalData _:b0,
            _:b5,
            _:b6 ;
        ptp:hasInternalData _:b4 .

    eg:projU a dcat:Catalog,
            prov:Activity ;
        ptp:hasDataSource _:b7,
            _:b8,
            _:b9,
            _:b0,
            _:b3,
            _:b6,
            _:b10 ;
        ptp:hasExternalData _:b3,
            _:b6,
            _:b10 .

    eg:projB a dcat:Catalog,
            prov:Activity ;
        ptp:hasDataSource _:b9,
            _:b0,
            _:b1,
            _:b2,
            _:b3,
            _:b4,
            _:b11,
            _:b5,
            _:b6,
            _:b10 ;
        ptp:hasExternalData _:b9,
            _:b0,
            _:b2,
            _:b3 ;
        ptp:hasInternalData _:b1 .

    _:b7 a ptp:DataSource,
            ptp:InternalDataSource,
            dcat:Dataset ;
        ptp:isDataSourceOf eg:projU .

    _:b8 a ptp:DataSource,
            ptp:ExternalDataSource,
            dcat:Dataset ;
        ptp:isDataSourceOf eg:projU .

    _:b11 a ptp:DataSource,
            ptp:InternalDataSource,
            dcat:Dataset ;
        ptp:isDataSourceOf eg:projB .

    _:b9 a ptp:DataSource,
            ptp:ExternalDataSource,
            dcat:Dataset ;
        dcterms:title "Friend-of-a-Friend (FOAF)"@en ;
        ptp:isDataSourceOf eg:projB,
            eg:projU .

    _:b1 a ptp:DataSource,
            ptp:InternalDataSource,
            dcat:Dataset ;
        dcterms:title "Data to Classify" ;
        ptp:isDataSourceOf eg:projA,
            eg:projB .

    _:b2 a ptp:DataSource,
            ptp:ExternalDataSource,
            dcat:Dataset ;
        rdfs:label "Official SKOS" ;
        ptp:isDataSourceOf eg:projA,
            eg:projB .

    _:b4 a ptp:DataSource,
            ptp:InternalDataSource,
            dcat:Dataset ;
        dcterms:title "Project A Data Files" ;
        ptp:isDataSourceOf eg:projA,
            eg:projB .

    _:b5 a ptp:DataSource,
            ptp:ExternalDataSource,
            ptp:VocabularyFile,
            dcat:Dataset ;
        dcterms:title "SKOS Reference Vocabulary" ;
        ptp:inputPattern "vocabularies/skos.ttl" ;
        ptp:isDataSourceOf eg:projA,
            eg:projB .

    _:b10 a ptp:DataSource,
            ptp:ExternalDataSource,
            ptp:VocabularyFile,
            dcat:Dataset ;
        dcterms:title "FOAF Vocabulary" ;
        ptp:inputPattern "vocabularies/foaf.ttl" ;
        ptp:isDataSourceOf eg:projB,
            eg:projU .

    _:b0 a ptp:DataSource,
            ptp:ExternalDataSource,
            dcat:Dataset ;
        ptp:isDataSourceOf eg:projA,
            eg:projB,
            eg:projU .

    _:b3 a ptp:DataSource,
            ptp:ExternalDataSource,
            ptp:VocabularyFile,
            dcat:Dataset ;
        dcterms:title "PROV-O Provenance Ontology"@en ;
        ptp:isDataSourceOf eg:projA,
            eg:projB,
            eg:projU .

    _:b6 a ptp:DataSource,
            ptp:ExternalDataSource,
            dcat:Dataset ;
        ptp:isDataSourceOf eg:projA,
            eg:projB,
            eg:projU .
}

